{"ts":1355687892409,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"﻿// Filename: main.js\r\n// \r\nrequire.config({\r\n    paths: {\r\n        // note these are all AMD compliant versions\r\n        jquery: '../../components/jquery/jquery',  // amd version\r\n        underscore: '../../components/underscore-amd/underscore', // amd version\r\n        underscoreM: 'libs/underscore/underscore-mustache',  // templating supporting mustache style {{ ... }}\r\n        backbone: '../../components/backbone-amd/backbone', // amd version\r\n        'backbone.wreqr': '../../components/backbone.wreqr/lib/amd/backbone.wreqr', // amd version\r\n        'backbone.eventbinder': '../../components/backbone.eventbinder/lib/amd/backbone.eventbinder', // amd version\r\n        'backbone.babysitter': '../../components/backbone.babysitter/lib/amd/backbone.babysitter', // amd version\r\n        marionette: '../../components/marionette/lib/core/amd/backbone.marionette',  // amd version\r\n        bootstrapModal: '../../components/bootstrap/docs/assets/js/bootstrap-modal', //-2.1.1',  // just using .modal for now but loading entire js bootstrap\r\n        bootstrapDropdown: '../../components/bootstrap/docs/assets/js/bootstrap-dropdown', //-2.1.1',  // just using .modal for now but loading entire js bootstrap\r\n        text: '../../components/requirejs-text/text'\r\n    },\r\n\r\n    shim: {\r\n        bootstrapModal: ['jquery'],\r\n        bootstrapDropdown: ['jquery']\r\n    } \r\n});\r\n\r\nrequire(['app', 'jquery', 'controllers/index', 'routers/index', 'utils/jquery.tkutil'],\r\n        function (app, $, controller, router) {\r\n            // here's the only way I can think of, call latent webservice asyncronously to get the .NET auth username and \r\n            // dependency inject this into our router;\r\n            // maybe better soln would be to create an app Model with properties that we can change\r\n            // which would trigger events/routes views etc... \r\n            // this/ legacy ajax/asmx call returns json in a .d wrapper\r\n            $.when($.get.NetAuthUserName()).then(function (response) {\r\n                if (response && response.d && response.d.status === 'success') {\r\n                    //alert(response.d.data.userName);\r\n\r\n                    var options = {\r\n                        controller: controller({ userName: response.d.data.userName }),\r\n                        router: router\r\n                    };\r\n                    //\r\n                    app.start(options);\r\n                    \r\n                } else {\r\n                    alert('authentication error starting application...');\r\n                }\r\n\r\n            });\r\n\r\n        });"]],"start1":0,"start2":0,"length1":0,"length2":2575}]],"length":2575}
{"contributors":[],"silentsave":false,"ts":1355687930309,"patch":[[{"diffs":[[-1,"﻿"],[0,""],[1,""],[0,"// F"]],"start1":0,"start2":0,"length1":5,"length2":4},{"diffs":[[0,"jquery: '../"],[-1,"../"],[0,"components/j"]],"start1":121,"start2":121,"length1":27,"length2":24},{"diffs":[[0,"rscore: '../"],[-1,"../"],[0,"components/u"]],"start1":189,"start2":189,"length1":27,"length2":24},{"diffs":[[0,"ckbone: '../"],[-1,"../"],[0,"components/b"]],"start1":378,"start2":378,"length1":27,"length2":24},{"diffs":[[0,"one.wreqr': '../"],[-1,"../"],[0,"components/backb"]],"start1":455,"start2":455,"length1":35,"length2":32},{"diffs":[[0,"entbinder': '../"],[-1,"../"],[0,"components/backb"]],"start1":558,"start2":558,"length1":35,"length2":32},{"diffs":[[0,"itter': '../"],[-1,"../"],[0,"components/b"]],"start1":676,"start2":676,"length1":27,"length2":24},{"diffs":[[0,"onette: '../"],[-1,"../"],[0,"components/m"]],"start1":777,"start2":777,"length1":27,"length2":24},{"diffs":[[0,"pModal: '../"],[-1,"../"],[0,"components/b"]],"start1":879,"start2":879,"length1":27,"length2":24},{"diffs":[[0,"opdown: '../"],[-1,"../"],[0,"components/b"]],"start1":1038,"start2":1038,"length1":27,"length2":24},{"diffs":[[0,"xt: '../"],[-1,"../"],[0,"componen"]],"start1":1191,"start2":1191,"length1":19,"length2":16}]],"length":2544,"saved":false}
{"contributors":[],"silentsave":false,"ts":1355689936015,"patch":[[{"diffs":[[0,"query.tk"],[-1,"u"],[1,"U"],[0,"til'],\r\n"]],"start1":1418,"start2":1418,"length1":17,"length2":17}]],"length":2544,"saved":false}
