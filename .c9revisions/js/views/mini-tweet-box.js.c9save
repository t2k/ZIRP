{"ts":1355689221403,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"﻿// mini-tweet-box.js\r\ndefine(['jquery', 'underscoreM', 'marionette', 'text!templates/mini-tweet-box.htm', 'Models/models.zirpen', 'utils/jquery.textCounter'], function ($, _, Marionette, template, TweetModel) {\r\n    return Marionette.ItemView.extend({\r\n        className: 'row-fluid',\r\n        template: _.template(template),\r\n\r\n        ui: {\r\n            counter:    '#tweet-counter',\r\n            tweet: '#zirpen',\r\n            tweetBtn: '#zirpen-button'\r\n        },\r\n\r\n        // Delegated events for creating new items, and clearing completed ones.\r\n        events: {\r\n            'click .btn': 'postZirpen',  // note: primary-btn class is toggled by textcounter.js if over 140 chars cannot post msg\r\n            'click #zirpen': 'expandZirpen',\r\n            'blur #zirpen': 'condenseZirpen'\r\n        },\r\n\r\n        initialize: function (options) {\r\n            this.uid = options.uid;\r\n\r\n        },\r\n        \r\n        onRender: function () {\r\n            this.$(this.ui.counter).textCounter({ target: this.ui.tweet,  action: this.ui.tweetBtn });\r\n        },\r\n\r\n        expandZirpen: function (e) {\r\n            this.ui.tweet.attr('rows', 4);\r\n            //this.ui.tweet.animate({ 'height': '60px' }); //attr('rows', 4); //.$('#zirpen').parent().parent().parent().removeClass('condensed');\r\n        },\r\n\r\n        condenseZirpen: function (e) {\r\n            //var $t = this.$('#zirpen');\r\n            if (this.ui.tweet.val().length === 0) {\r\n                this.ui.tweet.attr('rows', 1);\r\n                //this.ui.tweet.animate({ 'height': '18px' });\r\n            }\r\n        },\r\n\r\n        postZirpen: function (e) {\r\n            e.preventDefault();\r\n            // how about trigger an event for \r\n\r\n            //alert(this.uid);\r\n            var tweet = new TweetModel({ userid: this.uid, zirp: this.ui.tweet.val().trim() });\r\n            tweet.save();\r\n        }\r\n\r\n    });\r\n});"]],"start1":0,"start2":0,"length1":0,"length2":1887}]],"length":1887}
{"contributors":[],"silentsave":false,"ts":1355689235534,"patch":[[{"diffs":[[-1,"﻿"],[0,"// m"]],"start1":0,"start2":0,"length1":5,"length2":4},{"diffs":[[0,".htm', '"],[-1,"M"],[1,"m"],[0,"odels/mo"]],"start1":99,"start2":99,"length1":17,"length2":17}]],"length":1886,"saved":false}
